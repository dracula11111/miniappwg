/* ============================================
   GAMES PAGE (Hub)
   Цель: одинаковая сетка на любых разрешениях + НИКАКОГО обрезания постеров.
   Мы подгоняем размеры панелей под реальные пропорции картинок:
   Wheel 1405×546, Crash 900×1600, Cases 899×739, Soon 891×740
   ============================================ */

   .games{
    padding: 16px 16px 96px; /* +space for bottom nav */
  }
  
  .games__head{
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin: 4px 0 12px;
  }
  
  .games__title{
    font-size: 22px;
    font-weight: 800;
    letter-spacing: .2px;
    margin:0;
  }
  
  /* ===== GRID LAYOUT =====
     Важно: высоты считаем от 100vw, чтобы не зависеть от “разрешения телефона”,
     а зависеть только от реальной ширины в Telegram WebView.
  */
  .games-grid{
    --gap: 12px;
    --padX: 32px;                  /* .games: 16px + 16px */
    --wheelW: calc(100vw - var(--padX));
    --colW: calc((100vw - var(--padX) - var(--gap)) / 2);
  
    display:grid;
    grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);
    gap: var(--gap);
  
    grid-template-areas:
      "wheel wheel"
      "crash cases"
      "crash soon";
  
    /* Подгоняем высоты под пропорции КЕЙСОВ и SOON (они в правой колонке) */
    grid-template-rows:
      calc(var(--wheelW) * 546 / 1405)          /* Wheel: 1405×546 */
      calc(var(--colW)   * 739 / 899)           /* Cases: 899×739 */
      calc(var(--colW)   * 740 / 891);          /* Soon: 891×740 */
  }
  
  /* ===== TILE (общий стиль) ===== */
  .game-tile{
    width:100%;
    height:100%;
    border-radius: 22px;
    position:relative;
    overflow:hidden;
    padding: 14px;
    
    /* Стеклянный border - улучшенный */
    border: 2px solid rgba(255,255,255,.28);
    box-shadow: 
      /* Внутренние блики (glassmorphism) */
      inset 0 0 0 1px rgba(255,255,255,.2),
      inset 0 2px 4px rgba(255,255,255,.25),
      inset 0 -2px 3px rgba(0,0,0,.08),
      /* Внешние тени для глубины */
      0 1px 1px rgba(255,255,255,.15),
      0 4px 16px rgba(0,0,0,.2),
      0 12px 40px rgba(0,0,0,.18),
      0 20px 60px rgba(0,0,0,.1);
  
    /* fallback фон, если картинка не загрузилась */
    background-color: rgba(255,255,255,.03);
  
    /* один слой постера без обрезки */
    --tile-img: none;
    --tile-x: 0px;
    --tile-y: 50%;
    background-image: var(--tile-img);
    background-size: contain; /* <= НИЧЕГО НЕ ОБРЕЗАЕТ */
    background-position: calc(50% + var(--tile-x)) var(--tile-y);
    background-repeat: no-repeat;
  
    text-align:left;
    display:flex;
    align-items:center;
    justify-content:center;
    isolation:isolate;
    transition: transform 220ms ease, filter 220ms ease, border-color 220ms ease;
  }
  
  /* лёгкий градиент, чтобы текст читался */
  .game-tile::after{
    content:"";
    position:absolute;
    inset:0;
    background: linear-gradient(180deg,
      rgba(0,0,0,0.00) 0%,
      rgba(0,0,0,0.18) 42%,
      rgba(0,0,0,0.32) 100%);
    z-index:0;
    pointer-events:none;
  }
  
  /* Блик по карточке (по желанию, можно удалить целиком) */
  .game-tile::before{
    content:"";
    position:absolute;
    top: 0;
    left: -120%;
    width: 120%;
    height: 100%;
    background: linear-gradient(90deg,
      rgba(255,255,255,0) 0%,
      rgba(255,255,255,0.22) 50%,
      rgba(255,255,255,0) 100%);
    z-index: 2;
    pointer-events: none;
    animation: shine 30s ease-in-out infinite;
  }
  @keyframes shine{
    0%{ left:-120%; }
    3%, 100%{ left:120%; }
  }
  
  /* нажатие */
  .game-tile:active{
    transform: scale(0.985);
    filter: brightness(1.05);
    border-color: rgba(255,255,255,.4);
    box-shadow: 
      inset 0 0 0 1px rgba(255,255,255,.32),
      inset 0 2px 4px rgba(255,255,255,.35),
      inset 0 -2px 3px rgba(0,0,0,.12),
      0 1px 1px rgba(255,255,255,.2),
      0 4px 16px rgba(0,0,0,.25),
      0 12px 40px rgba(0,0,0,.22),
      0 20px 60px rgba(0,0,0,.15);
  }
  
  /* ===== AREAS + IMAGES ===== */
  .game-tile--wheel{ grid-area: wheel;
   --tile-img: url("/images/games/wheel.webp"); --tile-y: 40%; }
  .game-tile--crash{ grid-area: crash; 
    background-size: 102%; /* Увеличиваем изображение Crash */
    --tile-img: url("/images/games/crash.webp"); --tile-y: 50%; }
  .game-tile--cases{ grid-area: cases; --tile-img: url("/images/games/cases.webp"); --tile-y: 35%; }
  .game-tile--soon { grid-area: soon;  --tile-img: url("/images/games/soon.webp");  --tile-y: 45%; }
  
  /* Если фоток нет — всё равно красиво */
  .game-tile--wheel{ background-color: rgba(120, 160, 255, .18); }
  .game-tile--crash{ background-color: rgba(255, 120, 160, .18); }
  .game-tile--cases{ background-color: rgba(90, 255, 200, .16); }
  .game-tile--soon { background-color: rgba(255,255,255,.035); }
  
  /* лёгкие наклоны как на макете */
  .game-tile--wheel .game-tile__label{ transform: rotate(0deg); }
  .game-tile--crash .game-tile__label{ transform: rotate(-7deg); }
  .game-tile--cases .game-tile__label{ transform: rotate(7deg); }
  .game-tile--soon  .game-tile__label{ transform: rotate(8deg); opacity:.9; }
  
  /* Wheel: сдвиг постера вправо только на 360x780 */
  @media (width: 360px) and (height: 780px){
    .game-tile--wheel{ --tile-x: 0px; }
  }
  
  /* Soon disabled */
  .game-tile[disabled]{
    opacity: .85;
    filter: saturate(.9);
    cursor: default;
  }
  .game-tile[disabled]:active{
    transform:none;
    filter:saturate(.9);
    border-color: rgba(255,255,255,.28);
    box-shadow: 
      inset 0 0 0 1px rgba(255,255,255,.2),
      inset 0 2px 4px rgba(255,255,255,.25),
      inset 0 -2px 3px rgba(0,0,0,.08),
      0 1px 1px rgba(255,255,255,.15),
      0 4px 16px rgba(0,0,0,.2),
      0 12px 40px rgba(0,0,0,.18),
      0 20px 60px rgba(0,0,0,.1);
  }
  
  /* Reduce motion */
  @media (prefers-reduced-motion: reduce){
    .game-tile{ transition:none !important; }
    .game-tile::before{ animation:none !important; }
  }