          SETTINGS BOTTOM SHEET
          ============================================ */

        .settings-sheet {
          position: fixed;                               /* Фиксированная позиция */
          inset: 0;                                      /* На весь экран */
          z-index: 4000;                                 /* Высокий z-index */
          pointer-events: none;                          /* Не реагирует на события по умолчанию */
          opacity: 0;                                    /* Невидима по умолчанию */
          transition: opacity 0.3s ease;                 /* Плавное появление */
        }

        .settings-sheet--open {
          pointer-events: auto;                          /* Реагирует на события */
          opacity: 1;                                    /* Видима */
        }

        /* Backdrop */
        .settings-sheet__backdrop {
          position: absolute;                            /* Абсолютное позиционирование */
          inset: 0;                                      /* На весь экран */
          background: rgba(0, 0, 0, 0.7);                /* Тёмный полупрозрачный фон */
          backdrop-filter: blur(4px);                    /* Размытие */
          opacity: 0;                                    /* Прозрачный по умолчанию */
          transition: opacity 0.3s ease;                 /* Плавное появление */
        }

        .settings-sheet--open .settings-sheet__backdrop {
          opacity: 1;                                    /* Видимый когда панель открыта */
        }

        /* Panel */
        .settings-sheet__panel {
          position: absolute;                            /* Абсолютное позиционирование */
          left: 0;                                       /* Прижато к левому краю */
          right: 0;                                      /* Прижато к правому краю */
          bottom: 0;                                     /* Прижато к низу */
          background: #1e2329;                           /* Тёмный фон */
          border-radius: 24px 24px 0 0;                  /* Скругление сверху */
          padding: 20px 20px calc(env(safe-area-inset-bottom) + 20px); /* Отступы с учётом safe area */
          max-height: 80vh;                              /* Макс. высота 80% экрана */
          overflow-y: auto;                              /* Вертикальная прокрутка */
          transform: translateY(100%);                   /* Скрыта снизу по умолчанию */
          transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Плавное выезжание */
          box-shadow: 0 -20px 60px rgba(0, 0, 0, 0.8);   /* Глубокая тень сверху */
        }

        .settings-sheet--open .settings-sheet__panel {
          transform: translateY(0);                      /* Выезжает вверх */
        }

        /* Handle for swipe */
        .settings-sheet__handle {
          width: 40px;                                   /* Ширина ручки */
          height: 4px;                                   /* Высота ручки */
          background: rgba(255, 255, 255, 0.2);          /* Полупрозрачный светлый */
          border-radius: 999px;                          /* Капсульная форма */
          margin: 0 auto 16px;                           /* Центрируем + отступ снизу */
          cursor: grab;                                  /* Курсор "схватить" */
        }

        .settings-sheet__handle:active {
          cursor: grabbing;                              /* Курсор "схватили" */
        }

        /* Close button */
        .settings-sheet__close {
          position: absolute;                            /* Абсолютное позиционирование */
          top: 16px;                                     /* Отступ сверху */
          right: 16px;                                   /* Отступ справа */
          width: 36px;                                   /* Ширина кнопки */
          height: 36px;                                  /* Высота кнопки */
          border-radius: 50%;                            /* Круглая форма */
          background: rgba(255, 255, 255, 0.08);         /* Полупрозрачный фон */
          border: none;                                  /* Без границы */
          color: rgba(255, 255, 255, 0.6);               /* Приглушённый цвет иконки */
          display: flex;                                 /* Flexbox */
          align-items: center;                           /* Центрируем по вертикали */
          justify-content: center;                       /* Центрируем по горизонтали */
          cursor: pointer;                               /* Курсор pointer */
          transition: all 0.2s ease;                     /* Плавные переходы */
          padding: 0;                                    /* Без отступов */
          z-index: 1;                                    /* Поверх содержимого */
        }

        .settings-sheet__close:hover {
          background: rgba(255, 255, 255, 0.12);         /* Усиливаем фон */
          color: rgba(255, 255, 255, 0.9);               /* Делаем иконку ярче */
        }

        .settings-sheet__close:active {
          transform: scale(0.9);                         /* Уменьшаем при нажатии */
        }

        /* Title */
        .settings-sheet__title {
          font-size: 24px;                               /* Размер шрифта */
          font-weight: 800;                              /* Жирный */
          color: #ffffff;                                /* Белый цвет */
          margin: 0 0 24px 0;                            /* Отступ снизу */
          text-align: center;                            /* Центрируем текст */
          letter-spacing: 0.3px;                         /* Расстояние между буквами */
        }

        /* Content */
        .settings-sheet__content {
          display: flex;                                 /* Flexbox */
          flex-direction: column;                        /* Вертикальное расположение */
          gap: 2px;                                      /* Минимальный зазор */
        }

        /* ============================================
          SETTINGS ITEMS
          ============================================ */

        .settings-item {
          display: flex;                                 /* Flexbox */
          align-items: center;                           /* Центрируем по вертикали */
          gap: 14px;                                     /* Расстояние между элементами */
          padding: 16px;                                 /* Внутренние отступы */
          background: rgba(255, 255, 255, 0.03);         /* Полупрозрачный фон */
          border-radius: 14px;                           /* Скруглённые углы */
          transition: all 0.2s ease;                     /* Плавные переходы */
        }

        .settings-item--clickable {
          cursor: pointer;                               /* Курсор pointer */
          -webkit-tap-highlight-color: transparent;      /* Убираем подсветку */
        }

        .settings-item--clickable:hover {
          background: rgba(255, 255, 255, 0.06);         /* Усиливаем фон */
        }

        .settings-item--clickable:active {
          transform: scale(0.98);                        /* Уменьшаем */
          background: rgba(255, 255, 255, 0.08);         /* Ещё больше усиливаем фон */
        }

        /* Icon */
        /* ==========================
        Settings icons (about / support)
        ========================== */

      /* Контейнер иконки (в index.html: .settings-item__icon) */
      .settings-item__icon {
        width: 44px;                                     /* Ширина контейнера */
        height: 44px;                                    /* Высота контейнера */
        display: inline-grid;                            /* Inline grid */
        place-items: center;                             /* Центрируем содержимое */
        border-radius: 10px;                             /* Скруглённые углы */
        background: rgba(255,255,255,0.02);              /* Очень слабый фон */
        transition: background 0.18s ease, transform 0.12s ease, box-shadow 0.18s ease; /* Плавные переходы */
        flex-shrink: 0;                                  /* Не сжимается */
        overflow: hidden;                                /* Скрываем overflow */
      }

      /* Общая картинка-иконка (файлы SVG в <img> с классом .settings-icon-img) */
      .settings-icon-img,
      .settings-item__icon svg {
        width: 22px;                                     /* Ширина иконки */
        height: 22px;                                    /* Высота иконки */
        display: block;                                  /* Блочный элемент */
        transition: transform 0.18s ease, filter 0.18s ease, opacity 0.18s ease, color 0.18s ease; /* Переходы */
        /* Если ваш SVG использует stroke/currentColor — это поможет перекрашивать */
        color: var(--muted);                             /* Приглушённый цвет */
        filter: none;                                    /* Без фильтров */
      }

      /* Default look (muted) */
      .settings-item__icon .settings-icon-img,
      .settings-item__icon svg {
        opacity: 0.95;                                   /* Почти полная видимость */
        color: var(--muted);                             /* Приглушённый цвет */
        filter: drop-shadow(0 1px 2px rgba(0,0,0,0.4)); /* Небольшая тень */
      }

      /* Hover / active state for clickable items */
      .settings-item--clickable:hover .settings-item__icon {
        background: linear-gradient(180deg, rgba(0,166,255,0.06), rgba(13,104,195,0.03)); /* Градиентный фон */
        transform: translateY(-2px);                     /* Приподнимаем */
        box-shadow: 0 8px 20px rgba(0,166,255,0.08);    /* Свечение */
      }
      .settings-item--clickable:hover .settings-item__icon .settings-icon-img,
      .settings-item--clickable:hover .settings-item__icon svg {
        transform: translateY(-1px) scale(1.05);         /* Приподнимаем и увеличиваем */
        color: var(--accent);                            /* Акцентный цвет */
        filter: drop-shadow(0 4px 14px rgba(0,166,255,0.18)); /* Акцентное свечение */
      }

      /* Focus (keyboard accessible) */
      .settings-item__icon:focus-within,
      .settings-item__icon:focus {
        outline: 2px solid rgba(0,166,255,0.18);         /* Акцентная обводка */
        outline-offset: 2px;                             /* Отступ обводки */
      }

      /* Специальные модификаторы — к ним можно привязать разные цвета/эффекты */
      .settings-icon-img--about,
      .settings-item__icon--about svg {
        color: #9ae6ff;                                  /* Светлый голубой для About */
        filter: drop-shadow(0 2px 8px rgba(10,150,220,0.12)); /* Голубое свечение */
      }

      .settings-icon-img--support,
      .settings-item__icon--support svg {
        color: #ffd27a;                                  /* Тёплый жёлтый для Support */
        filter: drop-shadow(0 2px 8px rgba(255,200,90,0.12)); /* Жёлтое свечение */
      }

      /* Small-screen tweak */
      @media (max-width: 380px) {
        .settings-item__icon { width:40px; height:40px; } /* Меньшие размеры */
        .settings-icon-img, .settings-item__icon svg { width:20px; height:20px; } /* Меньшие иконки */
      }

      /* Reduced motion accessibility */
      @media (prefers-reduced-motion: reduce) {
        .settings-item__icon,
        .settings-icon-img,
        .settings-item__icon svg {
          transition: none !important;                   /* Отключаем переходы */
          transform: none !important;                    /* Отключаем трансформации */
          animation: none !important;                    /* Отключаем анимации */
        }
      }


        /* ============================================
          TOGGLE SWITCH
          ============================================ */

        .settings-toggle {
          position: relative;                            /* Относительное позиционирование */
          display: inline-block;                         /* Инлайн-блок */
          width: 48px;                                   /* Ширина переключателя */
          height: 28px;                                  /* Высота переключателя */
          flex-shrink: 0;                                /* Не сжимается */
          cursor: pointer;                               /* Курсор pointer */
        }

        .settings-toggle input {
          opacity: 0;                                    /* Скрываем чекбокс */
          width: 0;                                      /* Ширина 0 */
          height: 0;                                     /* Высота 0 */
        }

        .settings-toggle__slider {
          position: absolute;                            /* Абсолютное позиционирование */
          inset: 0;                                      /* На весь контейнер */
          background: rgba(255, 255, 255, 0.15);         /* Полупрозрачный фон */
          border-radius: 28px;                           /* Капсульная форма */
          transition: all 0.3s ease;                     /* Плавные переходы */
        }

        .settings-toggle__slider::before {
          content: "";                                   /* Пустой контент */
          position: absolute;                            /* Абсолютное позиционирование */
          height: 22px;                                  /* Высота кружка */
          width: 22px;                                   /* Ширина кружка */
          left: 3px;                                     /* Позиция слева */
          bottom: 3px;                                   /* Позиция снизу */
          background: #ffffff;                           /* Белый цвет */
          border-radius: 50%;                            /* Круглая форма */
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Плавное перемещение */
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);      /* Тень */
        }

        .settings-toggle input:checked + .settings-toggle__slider {
          background: linear-gradient(135deg, #00a6ff, #0d68c3); /* Градиентный акцентный фон */
        }

        .settings-toggle input:checked + .settings-toggle__slider::before {
          transform: translateX(20px);                   /* Кружок перемещается вправо */
        }

        .settings-toggle:active .settings-toggle__slider::before {
          width: 26px;                                   /* Растягивается при нажатии */
        }

        /* ============================================
          SWIPE DETECTION
          ============================================ */

        .settings-sheet__panel.swiping {
          transition: none;                              /* Отключаем transition при свайпе */
        }

        /* ============================================
          RESPONSIVE
          ============================================ */

        @media (max-width: 380px) {
          .topbar {
            padding: 10px 12px;                          /* Меньшие отступы */
          }
          
          .topbar__left {
            gap: 8px;                                    /* Меньший зазор */
          }
          
          .avatar-btn,
          .burger-btn {
            width: 36px;                                 /* Меньшие размеры */
            height: 36px;                                /* Меньшие размеры */
          }
          
          .burger-btn__line {
            width: 16px;                                 /* Меньшие линии */
          }
          
          .settings-sheet__title {
            font-size: 20px;                             /* Меньший шрифт */
          }
          
          .settings-item {
            padding: 14px;                               /* Меньшие отступы */
          }
          
          .settings-item__icon {
            font-size: 20px;                             /* Меньший размер */
            width: 36px;                                 /* Меньшая ширина */
            height: 36px;                                /* Меньшая высота */
          }
        }

        @media (max-height: 600px) {
          .settings-sheet__panel {
            max-height: 85vh;                            /* Больше высоты на низких экранах */
          }
          
          .settings-sheet__title {
            margin-bottom: 16px;                         /* Меньший отступ */
          }
        }
       /* ============================================
          FLAG ANIMATION FOR LANGUAGE SWITCHER
          ============================================ */

        /* Settings Icon Container */
        .settings-item__icon {
          font-size: 24px;                               /* Размер иконки */
          width: 40px;                                   /* Ширина контейнера */
          height: 40px;                                  /* Высота контейнера */
          display: flex;                                 /* Flexbox */
          align-items: center;                           /* Центрируем по вертикали */
          justify-content: center;                       /* Центрируем по горизонтали */
          background: rgba(0, 166, 255, 0.1);            /* Акцентный полупрозрачный фон */
          border-radius: 12px;                           /* Скруглённые углы */
          flex-shrink: 0;                                /* Не сжимается */
          overflow: hidden;                              /* Важно для анимации */
          position: relative;                            /* Относительное позиционирование */
        }

        /* Flag Image */
        .settings-flag-img {
          width: 24px;                                   /* Ширина флага */
          height: 24px;                                  /* Высота флага */
          object-fit: contain;                           /* Сохраняем пропорции */
          display: block;                                /* Блочный элемент */
          transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1); /* Плавная анимация с отскоком */
          will-change: transform;                        /* Оптимизация производительности */
        }

        /* Flag Switching Animation */
        .settings-flag-img.flag-switching {
          animation: flagSwitch 0.3s ease;               /* Применяем анимацию смены флага */
        }

        @keyframes flagSwitch {
          0% {
            transform: translateY(0) scale(1);           /* Начальное положение */
            opacity: 1;                                  /* Полная видимость */
          }
          50% {
            transform: translateY(-30px) scale(0.7);     /* Уезжает вверх и уменьшается */
            opacity: 0;                                  /* Исчезает */
          }
          51% {
            transform: translateY(30px) scale(0.7);      /* Появляется снизу */
            opacity: 0;                                  /* Ещё невидим */
          }
          100% {
            transform: translateY(0) scale(1);           /* Возвращается на место */
            opacity: 1;                                  /* Полная видимость */
          }
        }

        /* Smooth hover effect */
        .settings-item--clickable:hover .settings-flag-img {
          transform: scale(1.1);                         /* Увеличиваем при hover */
        }

        /* Active state */
        .settings-item--clickable:active .settings-flag-img {
          transform: scale(0.95);                        /* Уменьшаем при нажатии */
        }

        /* ============================================
          RESPONSIVE
          ============================================ */

        @media (max-width: 380px) {
          .settings-flag-img {
            width: 20px;                                 /* Меньший размер флага */
            height: 20px;                                /* Меньший размер флага */
          }
        }

        /* ============================================
          ACCESSIBILITY
          ============================================ */

        @media (prefers-reduced-motion: reduce) {
          .settings-flag-img,
          .settings-flag-img.flag-switching {
            animation: none;                             /* Отключаем анимацию */
            transition: none;                            /* Отключаем переходы */
          }
        }

        /* ============================================
          ACCESSIBILITY
          ============================================ */

        @media (prefers-reduced-motion: reduce) {
          .settings-sheet,
          .settings-sheet__backdrop,
          .settings-sheet__panel,
          .burger-btn__line,
          .settings-toggle__slider,
          .settings-toggle__slider::before {
            transition: none;                            /* Отключаем все переходы */
          }
        }

        @media (prefers-contrast: high) {
          .avatar-btn {
            border-width: 2px;                           /* Толще граница */
          }
          
          .burger-btn {
            border-width: 2px;                           /* Толще граница */
          }
          
          .settings-item {
            border: 1px solid rgba(255, 255, 255, 0.15); /* Добавляем границу */
          }
        }

        /* RIGHT BALANCE PILL */
        .balance {
          position: absolute;                            /* Абсолютное позиционирование */
          right: 10px;                                   /* Отступ справа */
          top: 80px;                                     /* Было 40px, теперь 80px */
        }

      .pill{
        display: inline-flex;                            /* Инлайн-флекс */
        align-items: center;                             /* Центрируем по вертикали */
        gap: 8px;                                        /* Расстояние между элементами */
        background: var(--panel);                        /* Фон панели */
        border: 1px solid var(--border);                 /* Граница */
        padding: 6px 10px;                               /* Внутренние отступы */
        border-radius: 999px;                            /* Капсульная форма */
        box-shadow: inset 0 1px 0 rgba(255,255,255,.05); /* Внутренняя тень */
        transition: background .15s ease, border-color .15s ease, transform .12s ease; /* Плавные переходы */
      }
      .pill:hover{
        background: #162031;                             /* Затемняем фон при hover */
        border-color: #2a3a54;                           /* Подсвечиваем границу */
        transform: translateY(-1px);                     /* Приподнимаем */
      }
      .pill-icon{
        width:16px;                                      /* Ширина иконки */
        height:16px;                                     /* Высота иконки */
        }
      .pill-plus{ 
        margin-left:2px;                                 /* Отступ слева */
        font-weight:900;                                 /* Жирный шрифт */
      }
      .pill-plus,
      .pill-plus-icon{
        width:16px;                                      /* Ширина иконки плюса */
        height:16px;                                     /* Высота иконки плюса */
        }
      #tonAmount{ 
    font-weight:800;                                     /* Жирный шрифт */
     font-size:13px;                                     /* Размер шрифта */
     letter-spacing:.2px;                                /* Расстояние между буквами */
     }


/* ===========================
